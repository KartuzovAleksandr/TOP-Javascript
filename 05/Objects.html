<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Объекты</title>
</head>
<body>
<script>
    // let user = new Object();
    let user = {};
    // 1
    user.name = "Вася";
    user.age = 15;
    console.log(user); // Object раскрывается на 2 строчки { name: 'Вася', age: 15 }
    // нельзя
    // console.log(...user);
    document.write(user); // [object Object]
    document.write(`${user.name}<br>${user.age}`); // Вася на другой строке 15
    // 2
    user = {
        name: "Tom",
        age: 26,
        show: function() {
            console.log(this.name);
            console.log(this.age);
        },
        go(x) {
            console.log(this.age + x);
        }
    };
    document.write(`<br>${user.name}<br>${user.age}`);
    user.show();
    user.go(10);
    // 3
    let name = "Bob";
    const age = 34;
    user = { name, age };
    document.write(`<br>${user.name}<br>${user.age}`);
    console.log(user);
    console.log(user.company); // undefined
    // ошибка
    // user.display(); // Uncaught TypeError: user.display is not a function
    // 4
    user.display = function() {
        document.write(`<br>${user.name}`);
        document.write(`<br>${user.age}`);
    };
    user.display();
    // 5
    user = {};
    user["name"] = "Maria";
    user["age"] = 25;
    user["display"] = function(){
        document.write(`<br>${user.name}`);
    };
    // вызов метода
    user["display"]();
    user.display();

    // использование строк с пробелами
    user = {
        name: "Tom",
        age: 42,
        "full name": "Tom Johns",
        "display info": function(){
            console.log(user.name);
            console.log(user.age);
        }
    };
    // user.full name = "Bob"; // wait semicolon
    console.log(user["full name"]);
    user["display info"]();

    // динамическое создание св-в
    function createObject(propName, propValue){
        return {
            [propName]: propValue,
            print() {
                console.log(`${propName}: ${propValue}`);
            }
        };
    }
    let person = createObject("name", "Tom");
    person.print();     // name: Tom
    // работает
    let p = createObject(25, "Tom");
    p.print();
    let ps = createObject("Full name", "Василий Павлович");
    ps.print();
    document.write(`<br>${person.name}`);
    const book = createObject("title", "JavaScript Reference");
    book.print();   // title: JavaScript Reference
    document.write(`<br>${book.title}`);

    // удаление св-в и методов
    delete person.name; // удаляем свойство
    // альтернативный вариант
    // delete person["name"];
    document.write(`<br>${person.name}`); // undefined
    delete person.print; // удаляем метод
    // person.print(); // Uncaught TypeError: person.print is not a function

    // 6
    const personData = [ ["name", "Tom"], ["age", 37] ];
    person = Object.fromEntries(personData);
    console.log(person);        // { name: "Tom", age: 37 }
    console.log(person.name);    // Tom
</script>
</body>
</html>